{"ast":null,"code":"var _jsxFileName = \"/Users/vinaymoolya/Desktop/projects/medicineai/src/chatbot/ActionProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport questions from \"../questions.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ActionProvider = ({\n  createChatBotMessage,\n  setState,\n  children\n}) => {\n  _s();\n  const [medicines, setMedicines] = useState({});\n  const [med, setMed] = useState(\"\");\n  const [ques, setQues] = useState([]);\n  const [symp, setSymp] = useState(\"\");\n  const [qno, setQno] = useState(0);\n  const [query, setQuery] = useState(\"\");\n  const [msgHistory, setMsgHistory] = useState([]);\n  const [chatSession, setChatSession] = useState(null);\n  let message;\n  let similarity = require(\"string-cosine-similarity\");\n  const {\n    GoogleGenerativeAI,\n    HarmCategory,\n    HarmBlockThreshold\n  } = require(\"@google/generative-ai\");\n  const MODEL_NAME = \"gemini-1.0-pro\";\n  const API_KEY = \"AIzaSyDOUZKMwVhGj4vQaT_ckOmaNSjVV0BTiHs\";\n  function LLMDiagnosisEnds(message) {\n    return message.startsWith(\"Disease :\");\n  }\n  useEffect(() => {\n    console.log(\"Updated Chatsession ...\");\n  }, [chatSession]);\n  useEffect(() => {\n    console.log(\"Updated Symptom ...\");\n  }, [symp]);\n  useEffect(() => {\n    console.log(\"Updated Query : \", query);\n    if (chatSession !== null) {\n      sendMessage(query, chatSession);\n    }\n  }, [query]);\n  function runChat() {\n    const genAI = new GoogleGenerativeAI(API_KEY);\n    const model = genAI.getGenerativeModel({\n      model: MODEL_NAME\n    });\n    const generationConfig = {\n      temperature: 0.95,\n      topK: 1,\n      topP: 1,\n      maxOutputTokens: 2048\n    };\n    const safetySettings = [{\n      category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n    }, {\n      category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n    }, {\n      category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n    }, {\n      category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n    }];\n    const chat = model.startChat({\n      generationConfig,\n      safetySettings,\n      history: [{\n        role: \"user\",\n        parts: [{\n          text: 'Take a role of Disease Diagnoser , You have the ability to diagnose a disease based on the symptoms given as an input. For better diagnosis you may ask questions one by one in a conversational manner. Ensure that you don\\'t ask more than 4 questions for diagnosis and ask one question at a time. Ask one question at a time without the question tag.Finally respond with result in the format \"Disease : \" {diagnosed disease}.Diseases that you can diagnose are : Dry Cough , Cough with mucus , Acute Sore throat , Common Cold, Fever , Pain relief , Depression , Insomnia , Indigestion , Acne , skin infections , Irritable bowel syndrome , Burns , Chronic Obstructive Pulmonary Disease , Neuropathic pain , Osteoporosis , Nutrition Defeciency , Fungal Infections , Asthma , Wound infections . Input : Severe cough'\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you produce mucus while you cough?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have sore throat, hoarseness, or difficulty swallowing?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have fever, chills, or headache?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"no\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Acute Sore throat\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"skin rashes and burns\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Are the skin rashes itchy, red, and raised?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have any open wounds or blisters on your skin?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Skin infections\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"hard stool\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is your stool hard and dry, or is it difficult to pass?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Constipation\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"I feel weak and have bone pain\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Have you experienced any recent falls or injuries?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Osteoporosis\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"difficulty in breathing\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have a persistent cough, wheezing, or shortness of breath?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"yes\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Asthma\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"Cough\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is your cough dry or do you produce mucus?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"dry\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have any other symptoms, such as a sore throat, runny nose, or headache?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"no\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Dry Cough\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"stomach pain\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is the pain located in your upper abdomen, lower abdomen, or both?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"upper\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you experience the pain after eating certain foods or drinks?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"no\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Gastritis\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"Depression , nerve pain\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you feel sadness, hopelessness, and loss of interest in activities that you once enjoyed?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"no\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Neuropathic pain\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"fever\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Do you have a headache, sore throat, or runny nose?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"runny nose\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Common Cold\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"Pain\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is the pain sharp, dull, or burning?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"sharp\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Pain relief\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"circular infection\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is the infection on the skin, respiratory system, or urinary tract?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"urinary tract\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Urinary Tract Infection\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"pain in the nail\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Is the pain throbbing, sharp, or aching?\"\n        }]\n      }, {\n        role: \"user\",\n        parts: [{\n          text: \"aching\"\n        }]\n      }, {\n        role: \"model\",\n        parts: [{\n          text: \"Disease : Paronychia\"\n        }]\n      }]\n    });\n\n    // we need to wait for the response from the user for this qn\n\n    // let count = 1;\n    // while (!LLMDiagnosisEnds(llmresponse) && count < 3) {\n    //   console.log(\"Inside the LLM bot :: \", query);\n    //   if (query.length > 0) {\n    //     let result = await chat.sendMessage(query);\n    //     var res = result.response;\n    //     res = res.text();\n    //     console.log(\"Inside the LLM Response : \", res);\n    //     handleLLMResponse(res);\n    //     //set the response\n    //     setLLMResponse(res);\n    //   }\n    //   count = count + 1;\n    // }\n    // //split the response on colon and take the second part\n    // if (query.length > 0) {\n    //   let dis = res.split(\":\")[1].trim();\n    //   let diagnosed_disease = `${symp} + ${dis}`;\n    //   recommender(diagnosed_disease);\n    // }\n    return chat;\n  }\n  const sendMessage = async (query, chat) => {\n    console.log(\"Inside the send Message function :\", query);\n    try {\n      if (query.length > 0) {\n        const result = await chat.sendMessage(query);\n        const res = result.response;\n        console.log(\"Question :: \", res.candidates[\"0\"].content.parts[\"0\"].text);\n        handleLLMResponse(res.candidates[\"0\"].content.parts[\"0\"].text);\n        setMsgHistory(prevMessages => [...prevMessages, {\n          role: \"user\",\n          parts: [{\n            text: query\n          }]\n        }, {\n          role: \"model\",\n          parts: [{\n            text: res.candidates[\"0\"].content.parts[\"0\"].text\n          }]\n        }]);\n      } else {\n        console.log(\"Query set empty...\");\n      }\n    } catch (error) {\n      console.log(\"Error in Executing the Send Message component.\");\n      message = createChatBotMessage(\"Could you please try specifying the symptoms again with more specificity.\", {\n        withAvatar: true,\n        delay: 250\n      });\n      updateState(message, \"symptom\");\n    }\n  };\n  const handleLLMResponse = response => {\n    //print the response on the Chat window\n    console.log(\"Inside the Handle LLM response...\");\n    message = createChatBotMessage(`${response}`, {\n      withAvatar: true,\n      delay: 250\n    });\n    if (LLMDiagnosisEnds(response)) {\n      let dis = response.split(\":\")[1].trim();\n      let diagnosed_disease = `${symp} ${dis}`;\n      console.log(diagnosed_disease);\n      recommender(diagnosed_disease);\n      updateState(message, \"medid\");\n    } else {\n      updateState(message, \"askllm\");\n    }\n  };\n  const userToLLM = message => {\n    console.log(\"Inside the UserToLLM part : \", message);\n    if (message.trim() !== \"\") {\n      //   setMsgHistory((prevMessages) => [\n      //     ...prevMessages,\n      //     { role: \"user\", parts: [{ text: message }] },\n      //   ]);\n      setQuery(message);\n    }\n  };\n  function askquestions(quests, symptom) {\n    setQues(quests);\n    setSymp(symptom);\n    console.log(\"Insider ask :: \", quests[qno]);\n    message = createChatBotMessage(`${quests[qno].Qn}`, {\n      withAvatar: true,\n      delay: 250\n    });\n    updateState(message, \"question\");\n  }\n  const handleQuestionResponse = response => {\n    // if the sentiment positive then pass the disease to the server and query else ask next question.\n    let positive_list = [\"yes\", \"yep\", \"yeah\"];\n    function containsAnyWord(string, positive_list) {\n      for (let word of positive_list) {\n        if (string.includes(word)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    if (containsAnyWord(response, positive_list)) {\n      let diagnosed_disease = `${symp} + ${ques[qno].disease}`;\n      console.log(diagnosed_disease);\n      recommender(diagnosed_disease);\n    } else if (qno + 1 < ques.length) {\n      setQno(qno + 1);\n      message = createChatBotMessage(`${ques[qno + 1].Qn}`, {\n        withAvatar: true,\n        delay: 250\n      });\n      updateState(message, \"question\");\n    } else {\n      recommender(symp);\n    }\n  };\n  const recommender = async symptom => {\n    console.log(\"Sending the Symptom to the server\", symptom);\n    try {\n      const result = await axios.post(\"http://127.0.0.1:5000/data/\", {\n        payload: symptom\n      });\n      setMedicines(result.data);\n      console.log(\"Recieved Response :: \", result.data);\n      message = createChatBotMessage(`You have been diagnosed for ${result.data[\"Disease\"]} !`, {\n        withAvatar: true,\n        delay: 500\n      });\n      updateState(message, \"default\");\n      message = createChatBotMessage(`It would be the best if you consult  : ${result.data[\"Department\"]} !`, {\n        withAvatar: true,\n        delay: 500\n      });\n      updateState(message, \"default\");\n      message = createChatBotMessage(`You must be treated with medicines of Therapeutic Class : ${result.data[\"Therapeutic_Class\"]} !`, {\n        withAvatar: true,\n        delay: 500\n      });\n      updateState(message, \"default\");\n      message = createChatBotMessage(`Below listed are some of the recommended medicines..`, {\n        withAvatar: true,\n        delay: 500\n      });\n      updateState(message, \"default\");\n      result.data[\"Medicine_Recommendation\"].map((med, i) => {\n        message = createChatBotMessage(`${i}. ${med}`, {\n          delay: 500\n        });\n        updateState(message, \"default\");\n      });\n\n      // Only ask the id if the number of medicines is > 1\n      if (result.data[\"Medicine_Recommendation\"].length > 1) {\n        message = createChatBotMessage(\"Enter the id of the Medicine That you would like to query about ?\", {\n          withAvatar: true,\n          delay: 500\n        });\n        updateState(message, \"medid\");\n      } else {\n        setMed(result.data[\"Medicine_Recommendation\"][0]);\n        message = createChatBotMessage(`Please Type in your query for the Medicine(${result.data[\"Medicine_Recommendation\"][0]}) !`, {\n          withAvatar: true,\n          delay: 500\n        });\n        updateState(message, \"medquery\");\n      }\n    } catch (e) {\n      console.log(\"Error in Retrieving from Flask server....\");\n      console.log(e);\n    }\n  };\n  const severenessCheck = symptom => {\n    set;\n  };\n  const querysymptom = async symptom => {\n    // here we migh have to the diagnosis process ... wherein we will be asking all types of questions.\n    let qclasses = [];\n    questions.map(ques => {\n      qclasses.push(ques.CLASS);\n    });\n    let qcosine = [];\n    qclasses.forEach(txt => {\n      qcosine.push(similarity(txt, symptom));\n    });\n    setQuery(symptom);\n    console.log(\"Cosine :: \", qcosine.indexOf(1));\n\n    //ask questions\n    if (qcosine.indexOf(1) !== -1) {\n      // set the symptom here only\n      askquestions(questions[qcosine.indexOf(1)].questions, symptom);\n    } else {\n      // pass it to the LLM diagnoser\n      message = createChatBotMessage(`Analyzing your symptoms via our specialized LLM !`, {\n        withAvatar: true,\n        delay: 500\n      });\n      updateState(message, \"askllm\");\n      setSymp(symptom);\n      setQuery(symptom);\n      const chatSessionCurrent = runChat();\n      console.log(\"ChatSession Current : \", chatSessionCurrent);\n      setChatSession(chatSessionCurrent);\n      sendMessage(query, chatSessionCurrent);\n    }\n\n    // recommender(symptom);\n  };\n  const querymedication = medid => {\n    console.log(\"You have chosen the option :: \", medid);\n    console.log(\"Medicine Chosen :: \", medicines.Medicine_Recommendation.at(medid));\n    setMed(medicines.Medicine_Recommendation.at(medid));\n    message = createChatBotMessage(`Please Type in your query for the Chosen Medicine(${medicines.Medicine_Recommendation.at(medid)}) !`, {\n      withAvatar: true,\n      delay: 500\n    });\n    updateState(message, \"medquery\");\n  };\n  const processquery = async inpquery => {\n    // we will be passing the medicine name and the query to the server ... which will use langchain to create a cypher query and then would return us the result\n    try {\n      const result = await axios.post(\"http://127.0.0.1:5000/medquery/\", {\n        query: inpquery,\n        medicine: med\n      });\n      console.log(\"Result From API :: \", result.data);\n      message = createChatBotMessage(`${result.data.Result}`, {\n        withAvatar: true\n      });\n      updateState(message, \"medquery\");\n    } catch (e) {\n      console.log(\"Problem in querying the medicine \", e);\n    }\n    message = createChatBotMessage(`Any more queries for the Chosen Medicine(${med}) !`, {\n      withAvatar: false,\n      delay: 500\n    });\n    updateState(message, \"medquery\");\n  };\n  const updateState = (message, checker) => {\n    setState(prev => ({\n      ...prev,\n      messages: [...prev.messages, message],\n      checker\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: React.Children.map(children, child => {\n      return /*#__PURE__*/React.cloneElement(child, {\n        actions: {\n          querysymptom,\n          querymedication,\n          processquery,\n          handleQuestionResponse,\n          recommender,\n          userToLLM\n        }\n      });\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 625,\n    columnNumber: 5\n  }, this);\n};\n_s(ActionProvider, \"+81wPb0dqGjyAT7X8sjZpv7Zgco=\");\n_c = ActionProvider;\nexport default ActionProvider;\nvar _c;\n$RefreshReg$(_c, \"ActionProvider\");","map":{"version":3,"names":["React","useState","useEffect","axios","questions","jsxDEV","_jsxDEV","ActionProvider","createChatBotMessage","setState","children","_s","medicines","setMedicines","med","setMed","ques","setQues","symp","setSymp","qno","setQno","query","setQuery","msgHistory","setMsgHistory","chatSession","setChatSession","message","similarity","require","GoogleGenerativeAI","HarmCategory","HarmBlockThreshold","MODEL_NAME","API_KEY","LLMDiagnosisEnds","startsWith","console","log","sendMessage","runChat","genAI","model","getGenerativeModel","generationConfig","temperature","topK","topP","maxOutputTokens","safetySettings","category","HARM_CATEGORY_HARASSMENT","threshold","BLOCK_MEDIUM_AND_ABOVE","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_DANGEROUS_CONTENT","chat","startChat","history","role","parts","text","length","result","res","response","candidates","content","handleLLMResponse","prevMessages","error","withAvatar","delay","updateState","dis","split","trim","diagnosed_disease","recommender","userToLLM","askquestions","quests","symptom","Qn","handleQuestionResponse","positive_list","containsAnyWord","string","word","includes","disease","post","payload","data","map","i","e","severenessCheck","set","querysymptom","qclasses","push","CLASS","qcosine","forEach","txt","indexOf","chatSessionCurrent","querymedication","medid","Medicine_Recommendation","at","processquery","inpquery","medicine","Result","checker","prev","messages","Children","child","cloneElement","actions","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/vinaymoolya/Desktop/projects/medicineai/src/chatbot/ActionProvider.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport questions from \"../questions.json\";\n\nconst ActionProvider = ({ createChatBotMessage, setState, children }) => {\n  const [medicines, setMedicines] = useState({});\n  const [med, setMed] = useState(\"\");\n  const [ques, setQues] = useState([]);\n  const [symp, setSymp] = useState(\"\");\n  const [qno, setQno] = useState(0);\n  const [query, setQuery] = useState(\"\");\n  const [msgHistory, setMsgHistory] = useState([]);\n  const [chatSession, setChatSession] = useState(null);\n  let message;\n  let similarity = require(\"string-cosine-similarity\");\n  const {\n    GoogleGenerativeAI,\n    HarmCategory,\n    HarmBlockThreshold,\n  } = require(\"@google/generative-ai\");\n\n  const MODEL_NAME = \"gemini-1.0-pro\";\n  const API_KEY = \"AIzaSyDOUZKMwVhGj4vQaT_ckOmaNSjVV0BTiHs\";\n\n  function LLMDiagnosisEnds(message) {\n    return message.startsWith(\"Disease :\");\n  }\n\n  useEffect(() => {\n    console.log(\"Updated Chatsession ...\");\n  }, [chatSession]);\n\n  useEffect(() => {\n    console.log(\"Updated Symptom ...\");\n  }, [symp]);\n\n  useEffect(() => {\n    console.log(\"Updated Query : \", query);\n    if (chatSession !== null) {\n      sendMessage(query, chatSession);\n    }\n  }, [query]);\n\n  function runChat() {\n    const genAI = new GoogleGenerativeAI(API_KEY);\n    const model = genAI.getGenerativeModel({ model: MODEL_NAME });\n\n    const generationConfig = {\n      temperature: 0.95,\n      topK: 1,\n      topP: 1,\n      maxOutputTokens: 2048,\n    };\n\n    const safetySettings = [\n      {\n        category: HarmCategory.HARM_CATEGORY_HARASSMENT,\n        threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n      },\n      {\n        category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n        threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n      },\n      {\n        category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n        threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n      },\n      {\n        category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n        threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,\n      },\n    ];\n\n    const chat = model.startChat({\n      generationConfig,\n      safetySettings,\n      history: [\n        {\n          role: \"user\",\n          parts: [\n            {\n              text: 'Take a role of Disease Diagnoser , You have the ability to diagnose a disease based on the symptoms given as an input. For better diagnosis you may ask questions one by one in a conversational manner. Ensure that you don\\'t ask more than 4 questions for diagnosis and ask one question at a time. Ask one question at a time without the question tag.Finally respond with result in the format \"Disease : \" {diagnosed disease}.Diseases that you can diagnose are : Dry Cough , Cough with mucus , Acute Sore throat , Common Cold, Fever , Pain relief , Depression , Insomnia , Indigestion , Acne , skin infections , Irritable bowel syndrome , Burns , Chronic Obstructive Pulmonary Disease , Neuropathic pain , Osteoporosis , Nutrition Defeciency , Fungal Infections , Asthma , Wound infections . Input : Severe cough',\n            },\n          ],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Do you produce mucus while you cough?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Do you have sore throat, hoarseness, or difficulty swallowing?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Do you have fever, chills, or headache?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"no\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Acute Sore throat\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"skin rashes and burns\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Are the skin rashes itchy, red, and raised?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            { text: \"Do you have any open wounds or blisters on your skin?\" },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Skin infections\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"hard stool\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Is your stool hard and dry, or is it difficult to pass?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Constipation\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"I feel weak and have bone pain\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            { text: \"Have you experienced any recent falls or injuries?\" },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Osteoporosis\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"difficulty in breathing\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Do you have a persistent cough, wheezing, or shortness of breath?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"yes\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Asthma\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"Cough\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Is your cough dry or do you produce mucus?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"dry\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Do you have any other symptoms, such as a sore throat, runny nose, or headache?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"no\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Dry Cough\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"stomach pain\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Is the pain located in your upper abdomen, lower abdomen, or both?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"upper\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Do you experience the pain after eating certain foods or drinks?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"no\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Gastritis\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"Depression , nerve pain\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Do you feel sadness, hopelessness, and loss of interest in activities that you once enjoyed?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"no\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Neuropathic pain\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"fever\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            { text: \"Do you have a headache, sore throat, or runny nose?\" },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"runny nose\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Common Cold\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"Pain\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Is the pain sharp, dull, or burning?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"sharp\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Pain relief\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"circular infection\" }],\n        },\n        {\n          role: \"model\",\n          parts: [\n            {\n              text: \"Is the infection on the skin, respiratory system, or urinary tract?\",\n            },\n          ],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"urinary tract\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Urinary Tract Infection\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"pain in the nail\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Is the pain throbbing, sharp, or aching?\" }],\n        },\n        {\n          role: \"user\",\n          parts: [{ text: \"aching\" }],\n        },\n        {\n          role: \"model\",\n          parts: [{ text: \"Disease : Paronychia\" }],\n        },\n      ],\n    });\n\n    // we need to wait for the response from the user for this qn\n\n    // let count = 1;\n    // while (!LLMDiagnosisEnds(llmresponse) && count < 3) {\n    //   console.log(\"Inside the LLM bot :: \", query);\n    //   if (query.length > 0) {\n    //     let result = await chat.sendMessage(query);\n    //     var res = result.response;\n    //     res = res.text();\n    //     console.log(\"Inside the LLM Response : \", res);\n    //     handleLLMResponse(res);\n    //     //set the response\n    //     setLLMResponse(res);\n    //   }\n    //   count = count + 1;\n    // }\n    // //split the response on colon and take the second part\n    // if (query.length > 0) {\n    //   let dis = res.split(\":\")[1].trim();\n    //   let diagnosed_disease = `${symp} + ${dis}`;\n    //   recommender(diagnosed_disease);\n    // }\n    return chat;\n  }\n  const sendMessage = async (query, chat) => {\n    console.log(\"Inside the send Message function :\", query);\n    try {\n      if (query.length > 0) {\n        const result = await chat.sendMessage(query);\n        const res = result.response;\n        console.log(\n          \"Question :: \",\n          res.candidates[\"0\"].content.parts[\"0\"].text\n        );\n        handleLLMResponse(res.candidates[\"0\"].content.parts[\"0\"].text);\n        setMsgHistory((prevMessages) => [\n          ...prevMessages,\n          { role: \"user\", parts: [{ text: query }] },\n          {\n            role: \"model\",\n            parts: [{ text: res.candidates[\"0\"].content.parts[\"0\"].text }],\n          },\n        ]);\n      } else {\n        console.log(\"Query set empty...\");\n      }\n    } catch (error) {\n      console.log(\"Error in Executing the Send Message component.\");\n      message = createChatBotMessage(\n        \"Could you please try specifying the symptoms again with more specificity.\",\n        {\n          withAvatar: true,\n          delay: 250,\n        }\n      );\n      updateState(message, \"symptom\");\n    }\n  };\n  const handleLLMResponse = (response) => {\n    //print the response on the Chat window\n    console.log(\"Inside the Handle LLM response...\");\n    message = createChatBotMessage(`${response}`, {\n      withAvatar: true,\n      delay: 250,\n    });\n    if (LLMDiagnosisEnds(response)) {\n      let dis = response.split(\":\")[1].trim();\n      let diagnosed_disease = `${symp} ${dis}`;\n      console.log(diagnosed_disease);\n      recommender(diagnosed_disease);\n      updateState(message, \"medid\");\n    } else {\n      updateState(message, \"askllm\");\n    }\n  };\n\n  const userToLLM = (message) => {\n    console.log(\"Inside the UserToLLM part : \", message);\n    if (message.trim() !== \"\") {\n      //   setMsgHistory((prevMessages) => [\n      //     ...prevMessages,\n      //     { role: \"user\", parts: [{ text: message }] },\n      //   ]);\n      setQuery(message);\n    }\n  };\n  function askquestions(quests, symptom) {\n    setQues(quests);\n    setSymp(symptom);\n    console.log(\"Insider ask :: \", quests[qno]);\n    message = createChatBotMessage(`${quests[qno].Qn}`, {\n      withAvatar: true,\n      delay: 250,\n    });\n    updateState(message, \"question\");\n  }\n  const handleQuestionResponse = (response) => {\n    // if the sentiment positive then pass the disease to the server and query else ask next question.\n    let positive_list = [\"yes\", \"yep\", \"yeah\"];\n    function containsAnyWord(string, positive_list) {\n      for (let word of positive_list) {\n        if (string.includes(word)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    if (containsAnyWord(response, positive_list)) {\n      let diagnosed_disease = `${symp} + ${ques[qno].disease}`;\n      console.log(diagnosed_disease);\n      recommender(diagnosed_disease);\n    } else if (qno + 1 < ques.length) {\n      setQno(qno + 1);\n      message = createChatBotMessage(`${ques[qno + 1].Qn}`, {\n        withAvatar: true,\n        delay: 250,\n      });\n      updateState(message, \"question\");\n    } else {\n      recommender(symp);\n    }\n  };\n  const recommender = async (symptom) => {\n    console.log(\"Sending the Symptom to the server\", symptom);\n\n    try {\n      const result = await axios.post(\"http://127.0.0.1:5000/data/\", {\n        payload: symptom,\n      });\n      setMedicines(result.data);\n      console.log(\"Recieved Response :: \", result.data);\n\n      message = createChatBotMessage(\n        `You have been diagnosed for ${result.data[\"Disease\"]} !`,\n        { withAvatar: true, delay: 500 }\n      );\n      updateState(message, \"default\");\n\n      message = createChatBotMessage(\n        `It would be the best if you consult  : ${result.data[\"Department\"]} !`,\n        { withAvatar: true, delay: 500 }\n      );\n      updateState(message, \"default\");\n\n      message = createChatBotMessage(\n        `You must be treated with medicines of Therapeutic Class : ${result.data[\"Therapeutic_Class\"]} !`,\n        { withAvatar: true, delay: 500 }\n      );\n      updateState(message, \"default\");\n\n      message = createChatBotMessage(\n        `Below listed are some of the recommended medicines..`,\n        { withAvatar: true, delay: 500 }\n      );\n      updateState(message, \"default\");\n\n      result.data[\"Medicine_Recommendation\"].map((med, i) => {\n        message = createChatBotMessage(`${i}. ${med}`, { delay: 500 });\n        updateState(message, \"default\");\n      });\n\n      // Only ask the id if the number of medicines is > 1\n      if (result.data[\"Medicine_Recommendation\"].length > 1) {\n        message = createChatBotMessage(\n          \"Enter the id of the Medicine That you would like to query about ?\",\n          { withAvatar: true, delay: 500 }\n        );\n        updateState(message, \"medid\");\n      } else {\n        setMed(result.data[\"Medicine_Recommendation\"][0]);\n\n        message = createChatBotMessage(\n          `Please Type in your query for the Medicine(${result.data[\"Medicine_Recommendation\"][0]}) !`,\n          { withAvatar: true, delay: 500 }\n        );\n        updateState(message, \"medquery\");\n      }\n    } catch (e) {\n      console.log(\"Error in Retrieving from Flask server....\");\n      console.log(e);\n    }\n  };\n  const severenessCheck = (symptom) =>{\n    set\n  }\n  const querysymptom = async (symptom) => {\n    // here we migh have to the diagnosis process ... wherein we will be asking all types of questions.\n    let qclasses = [];\n    questions.map((ques) => {\n      qclasses.push(ques.CLASS);\n    });\n    let qcosine = [];\n    qclasses.forEach((txt) => {\n      qcosine.push(similarity(txt, symptom));\n    });\n    setQuery(symptom);\n    console.log(\"Cosine :: \", qcosine.indexOf(1));\n\n    //ask questions\n    if (qcosine.indexOf(1) !== -1) {\n      // set the symptom here only\n      askquestions(questions[qcosine.indexOf(1)].questions, symptom);\n    } else {\n      // pass it to the LLM diagnoser\n      message = createChatBotMessage(\n        `Analyzing your symptoms via our specialized LLM !`,\n        { withAvatar: true, delay: 500 }\n      );\n      updateState(message, \"askllm\");\n      setSymp(symptom);\n      setQuery(symptom);\n\n      const chatSessionCurrent = runChat();\n\n      console.log(\"ChatSession Current : \", chatSessionCurrent);\n\n      setChatSession(chatSessionCurrent);\n      sendMessage(query, chatSessionCurrent);\n    }\n\n    // recommender(symptom);\n  };\n\n  const querymedication = (medid) => {\n    console.log(\"You have chosen the option :: \", medid);\n    console.log(\n      \"Medicine Chosen :: \",\n      medicines.Medicine_Recommendation.at(medid)\n    );\n    setMed(medicines.Medicine_Recommendation.at(medid));\n\n    message = createChatBotMessage(\n      `Please Type in your query for the Chosen Medicine(${medicines.Medicine_Recommendation.at(\n        medid\n      )}) !`,\n      { withAvatar: true, delay: 500 }\n    );\n    updateState(message, \"medquery\");\n  };\n  const processquery = async (inpquery) => {\n    // we will be passing the medicine name and the query to the server ... which will use langchain to create a cypher query and then would return us the result\n    try {\n      const result = await axios.post(\"http://127.0.0.1:5000/medquery/\", {\n        query: inpquery,\n        medicine: med,\n      });\n      console.log(\"Result From API :: \", result.data);\n      message = createChatBotMessage(`${result.data.Result}`, {\n        withAvatar: true,\n      });\n      updateState(message, \"medquery\");\n    } catch (e) {\n      console.log(\"Problem in querying the medicine \", e);\n    }\n\n    message = createChatBotMessage(\n      `Any more queries for the Chosen Medicine(${med}) !`,\n      { withAvatar: false, delay: 500 }\n    );\n    updateState(message, \"medquery\");\n  };\n\n  const updateState = (message, checker) => {\n    setState((prev) => ({\n      ...prev,\n      messages: [...prev.messages, message],\n      checker,\n    }));\n  };\n  return (\n    <div>\n      {React.Children.map(children, (child) => {\n        return React.cloneElement(child, {\n          actions: {\n            querysymptom,\n            querymedication,\n            processquery,\n            handleQuestionResponse,\n            recommender,\n            userToLLM,\n          },\n        });\n      })}\n    </div>\n  );\n};\n\nexport default ActionProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}